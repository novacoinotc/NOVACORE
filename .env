  GNU nano 7.2                                                                                       .env                                                                                                 
# =============================================================================
# NOVACORE - Environment Configuration
# =============================================================================
# SECURITY: All credentials are stored in AWS Secrets Manager
# This file contains placeholders - actual values injected at runtime by AWS
# =============================================================================

# Database Configuration (AWS RDS PostgreSQL)
# SECURITY: Use sslmode=require in production
DATABASE_URL="postgresql://postgres:IssacVM98.@novacore-db.czuaqe2ukua9.us-east-2.rds.amazonaws.com:5432/novacore?schema=public"

# OPM API Configuration (PRODUCCION)
NEXT_PUBLIC_OPM_API_URL=https://api.opm.mx
OPM_API_KEY=6ad34970a78868c49a91f6a8107dd9df301cd210c8e05421f6830a1b7b949437

# RSA Keys (Base64 encoded) - For signing outgoing orders to OPM
OPM_PRIVATE_KEY=LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUUNWMVFXb1Nkb2c4NUpNcWdnQ29pSytDMXBlUXRlOEtNZGRkRDUxc0tieVZZKzQ2ZlRqejkveHEwW>
OPM_PUBLIC_KEY=LS0tLS1CRUdJTiBSU0EgUFVCTElDIEtFWS0tLS0tCk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBbGRVRnFFbmFJUE9TVEtvSUFxSWl2Z3RhWGtMWHZDakhYWFErZGJDbThsV1B1T24wNDgvZjhhdEdIdjFuVzRxbX>

# Webhook Configuration
# OPM does NOT provide signature validation - we use strict IP whitelist instead
# The only authorized IP (35.171.132.81) is hardcoded in src/lib/webhook-security.ts
WEBHOOK_SECRET=G90TR4n5ejwgzSUyUCUfk4YIrVoJArureT2fu6oruBg=

# SECURITY: OPM doesn't provide RSA signature for incoming webhooks
# We rely EXCLUSIVELY on IP whitelist (hardcoded in webhook-security.ts)
# Any webhook from non-OPM IP is automatically rejected
SKIP_WEBHOOK_SIGNATURE_VALIDATION=true

# App Configuration
NEXT_PUBLIC_APP_NAME=NOVACORE
NEXT_PUBLIC_APP_ENV=production
NODE_ENV=production

# NextAuth Configuration
NEXTAUTH_SECRET=G90TR4n5ejwgzSUyUCUfk4YIrVoJArureT2fu6oruBg=
NEXTAUTH_URL=https://novacorp.mx

TRANSACTION_SIGNING_KEY=E+VBMegsXB3s+LeKZ3hfebK28+Wfcgebz/wwomrM3fE=


# =============================================================================
# OPM Webhook Security
# =============================================================================
# OPM's production IP for webhooks (hardcoded in code, not configurable)
# Additional IPs can be added here for staging/testing ONLY
# OPM_WEBHOOK_IPS=35.171.132.81
# =============================================================================
