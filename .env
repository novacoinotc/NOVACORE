# =============================================================================
# NOVACORE - Environment Configuration
# =============================================================================
# SECURITY: All credentials are stored in AWS Secrets Manager
# This file contains placeholders - actual values injected at runtime by AWS
# =============================================================================

# Database Configuration (AWS RDS PostgreSQL)
# SECURITY: Use sslmode=require in production
DATABASE_URL="${DATABASE_URL}"

# OPM API Configuration (PRODUCCION)
NEXT_PUBLIC_OPM_API_URL=https://api.opm.mx
OPM_API_KEY="${OPM_API_KEY}"

# RSA Keys (Base64 encoded) - For signing outgoing orders to OPM
OPM_PRIVATE_KEY="${OPM_PRIVATE_KEY}"
OPM_PUBLIC_KEY="${OPM_PUBLIC_KEY}"

# Webhook Configuration
# OPM does NOT provide signature validation - we use strict IP whitelist instead
# The only authorized IP (35.171.132.81) is hardcoded in src/lib/webhook-security.ts
WEBHOOK_SECRET="${WEBHOOK_SECRET}"

# SECURITY: OPM doesn't provide RSA signature for incoming webhooks
# We rely EXCLUSIVELY on IP whitelist (hardcoded in webhook-security.ts)
# Any webhook from non-OPM IP is automatically rejected
SKIP_WEBHOOK_SIGNATURE_VALIDATION=true

# App Configuration
NEXT_PUBLIC_APP_NAME=NOVACORE
NEXT_PUBLIC_APP_ENV=production
NODE_ENV=production

# NextAuth Configuration
NEXTAUTH_SECRET="${NEXTAUTH_SECRET}"
NEXTAUTH_URL=https://novacorp.mx

# =============================================================================
# OPM Webhook Security
# =============================================================================
# OPM's production IP for webhooks (hardcoded in code, not configurable)
# Additional IPs can be added here for staging/testing ONLY
# OPM_WEBHOOK_IPS=35.171.132.81
# =============================================================================
